class MetricLabel{constructor(elementId,metricName,options={}){this.elementId=elementId,this.element=document.getElementById(elementId),this.metricName=metricName,this.label=options.label||null,this.decimals=void 0!==options.decimals?options.decimals:2,this.separator=options.separator||"=",this.unit=options.unit||"",this.thousandsSeparator=options.thousandsSeparator||!1,this.element?options.theme?this.element.classList.add(`metriclabel-${options.theme}`):(options.background||options.color||options.border||options.borderLeft)&&(options.background&&(this.element.style.background=options.background),options.color&&(this.element.style.color=options.color),options.border&&(this.element.style.border=`1px solid ${options.border}`),options.borderLeft&&(this.element.style.borderLeft=`4px solid ${options.borderLeft}`)):console.warn(`MetricLabel: Element with id '${elementId}' not found`)}update(value,triggerMathJax=!0){if(!this.element)return;let formattedValue,valueWithUnit;if(null==value)formattedValue="?";else if("number"==typeof value){if(formattedValue=value.toFixed(this.decimals),(0===this.decimals||formattedValue.includes("."))&&(formattedValue=parseFloat(formattedValue).toString()),this.thousandsSeparator){const parts=formattedValue.split(".");parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),formattedValue=parts.join(".")}}else formattedValue=value;valueWithUnit=this.unit?"%"===this.unit?`${formattedValue}\\%`:`${formattedValue}\\text{${this.unit}}`:formattedValue;const separatorWithSpace=":"===this.separator?": ":" = ";let html=`\\(\\text{${this.metricName}}${separatorWithSpace}${valueWithUnit}\\)`;this.label&&(html+=`<div class="equation-label">${this.label}</div>`),this.element.innerHTML=html,triggerMathJax&&window.MathJax&&window.MathJax.typesetPromise&&MathJax.typesetPromise([this.element]).catch(err=>console.log("MathJax error:",err))}static batchUpdate(updates){const elements=[];for(const{display:display,value:value}of updates)display.update(value,!1),display.element&&elements.push(display.element);window.MathJax&&window.MathJax.typesetPromise&&elements.length>0&&MathJax.typesetPromise(elements).catch(err=>console.log("MathJax error:",err))}}"undefined"!=typeof module&&module.exports&&(module.exports={MetricLabel:MetricLabel});