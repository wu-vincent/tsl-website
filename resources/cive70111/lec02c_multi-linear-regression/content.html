<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Linear Regression</title>
    <script src="../phoebe-js/mathhelper.js"></script>
    <script src="../phoebe-js/datamanager.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../phoebe-js/phoebe.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="iframe-content">
        <div class="container">

        <div class="infotab">
            <div class="infotab-header">
            </div>

            <div class="infotab-content">
                <div class="infotab-panel active" data-tab-title="Introduction">
                    Multi-linear regression extends simple linear regression to handle multiple input features simultaneously. Instead of predicting from just one variable, we can use several features to make more accurate predictions.<br><br>
                    In civil engineering, this is particularly valuable for projects like predicting housing costs from multiple property characteristics, estimating structural loads from various design parameters, or forecasting traffic flow from multiple environmental factors.
                </div>

                <div class="infotab-panel" data-tab-title="Instructions">
                    â€¢ Click feature boxes to enable/disable them (colored = enabled, gray = disabled). The model will automatically re-train.<br>
                    â€¢ Using the plot below, compare the actual vs predicted prices. The closer the points are to the diagonal line, the better the predictions<br>
                    â€¢ Try different feature combinations to see how they affect performance, and observe how metrics change with different feature sets<br><br>

                    <strong>Which combination of features maximises RÂ²?</strong> Why do you think that is?

                </div>

                <div class="infotab-panel" data-tab-title="Tips">
                    <strong>Understanding the Results:</strong><br><br>
                    â€¢ <strong>RÂ² values:</strong> 0.0-0.3 (poor), 0.3-0.7 (moderate), 0.7+ (good fit)<br>
                    â€¢ <strong>MSE (Mean Squared Error):</strong> Lower values indicate better fit - measures average squared differences<br>
                    â€¢ <strong>MAE (Mean Absolute Error):</strong> More intuitive than MSE - average absolute prediction error<br>
                    â€¢ <strong>Feature importance:</strong> Notice which features contribute most to prediction accuracy<br>
                    â€¢ <strong>Overfitting vs Underfitting:</strong> Too few features may underfit; all features don't always improve performance
                </div>
            </div>
        </div>

        <div class="demo-area">
            <div class="plot-container">
                <canvas id="prediction-plot" style="max-width: 650px; max-height: 550px;"></canvas>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label>Select Features:</label>
                    <div class="selector-grid">
                        <div class="selectorbox active" data-color="blue" data-feature="area" data-icon="ðŸ“" data-label="Area (sq ft)"></div>
                        <div class="selectorbox active" data-color="purple" data-feature="bedrooms" data-icon="ðŸ›ï¸" data-label="Bedrooms"></div>
                        <div class="selectorbox active" data-color="teal" data-feature="bathrooms" data-icon="ðŸš¿" data-label="Bathrooms"></div>
                        <div class="selectorbox active" data-color="cyan" data-feature="stories" data-icon="ðŸ¢" data-label="Stories"></div>
                    </div>
                </div>

                <div class="metriclabel" id="mae">
                    MAE = 0.0
                </div>

                <div class="metriclabel" id="mse">
                    MSE = 0.0
                </div>

                <div class="metriclabel" id="r2">
                    RÂ² = 0.0
                </div>
            </div>
        </div>

        <!-- Theory Section -->
        <div class="theory-section">
            <h3>Mathematical Foundations</h3>
            <p>
                <strong>Multiple linear regression</strong> extends the single-variable framework to handle multiple features simultaneously. With $p$ features, the linear model becomes $\hat{y} = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots + \beta_p x_p$, where $\beta_0$ is the intercept (previously denoted $\alpha$ in single-variable regression) and $\beta_1, \ldots, \beta_p$ are the weights for each feature. <br><br>

                For our housing example: $\mathrm{Price} = \beta_0 + \beta_1 \cdot \mathrm{Area} + \beta_2 \cdot \mathrm{Bedrooms} + \beta_3 \cdot \mathrm{Bathrooms} + \beta_4 \cdot \mathrm{Stories}$. Each feature contributes independently to the prediction, weighted by its corresponding parameter.<br><br>
            </p>
        </div>

        <p style="font-style: italic; text-align: right; margin-top: 10px; color: #666; font-size: 14px;">
            Developed by <a href="https://transport-systems.imperial.ac.uk/members/qu-k" target="_blank" style="color: #666; text-decoration: underline;">Kevin Yu</a> & <a href="https://transport-systems.imperial.ac.uk/members/angeloudis-p" target="_blank" style="color: #666; text-decoration: underline;">Panagiotis Angeloudis</a>
        </p>

        </div>
    </div>

    <script src="../phoebe-js/infotab.js"></script>
    <script src="../phoebe-js/metriclabel.js"></script>
    <script src="script.js"></script>
    <script>
        // Hook into MathJax's ready callback
        if (!window.MathJax) {
            window.MathJax = {};
        }
        if (!window.MathJax.startup) {
            window.MathJax.startup = {};
        }

        const originalPageReady = window.MathJax.startup.pageReady || (() => MathJax.startup.defaultPageReady());

        window.MathJax.startup.pageReady = function() {
            return originalPageReady.call(this).then(() => {
                console.log('MathJax is ready and has processed the page');
            });
        };

        // Initialize the demo when the page loads
        window.addEventListener('load', () => {
            new MultiLinearRegressionDemo();
        });
    </script>
</body>
</html>